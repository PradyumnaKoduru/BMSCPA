<!DOCTYPE html>
<html>
<head>
    <title>Promocode Loader</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Mobile-friendly -->
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; text-align: center; }
        button { padding: 15px 30px; font-size: 18px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #45a049; }
        #promoCode { font-size: 24px; color: #333; margin: 20px 0; }
    </style>
    <script>
        window.onload = function() {
            // Fetch promocode from URL
            let params = new URLSearchParams(window.location.search);
            let promoCode = params.get("code") || "DEFAULT";
            let formUrl = "https://bmswellnest.com/BMS_Web_Live/CPTRegistration/Index"; // Replace with original form URL

            // Display promocode
            document.getElementById("promoCode").textContent = promoCode;

            // One-click button to open form and attempt autofill
            document.getElementById("applyButton").onclick = function() {
                // Open form in new tab
                window.open(formUrl, "_blank");
                // Try to inject script (may not work due to scope, but worth a shot)
                setTimeout(() => {
                    let promoField = document.querySelector('input[name="PromoCode"]'); // Replace with your selector
                    if (promoField) promoField.value = promoCode;
                }, 2000); // Delay for page load
            };
        };
    </script>
</head>
<body>
    <h1>Your Promocode</h1>
    <p id="promoCode">Loading...</p>
    <button id="applyButton">Apply Promocode with One Tap</button>
    <p>Tap the button to open the form. If autofill fails, manually enter the code above.</p>
</body>
</html>
